{
	"settings":{
		"index":{
			"number_of_shards":3,
			"number_of_replicas":2,
			"max_ngram_diff":10,
            "max_shingle_diff":10
		},
		"analysis":{
			"analyzer":{
				"englando":{
					"type":"custom",
					"tokenizer":"standard",
					"char_filter":["html_strip"],
					"filter":["english_possessive_stemmer", "lowercase", "english_stop", "english_stemmer"]
				},
				"custom_ngram":{
					"type":"custom",
					"tokenizer":"standard",
					"char_filter":["html_strip"],
					"filter":["lowercase", "asciifolding","filter_ngrams"]
				},
				"custom_shingles":{
					"type":"custom",
					"tokenizer":"standard",
					"char_filter":["html_strip"],
					"filter":["lowercase", "asciifolding","filter_shingles"]
				}
			},
            "normalizer": {
                "keyword_lowercase": {
                    "type": "custom",
                    "filter": ["lowercase", "asciifolding"]
                }
            },
			"filter":{
				"english_possessive_stemmer":{
					"type":"stemmer",
					"language":"possessive_english"
				},
				"english_stop":{
					"type":"stop",
					"stopwords":"english"
				},
				"english_stemmer":{
					"type":"stemmer",
					"language":"english"
				},
				"filter_ngrams":{
					"type":"ngram",
					"min_gram":1,
					"max_gram":10
				},
				"filter_shingles":{
					"type":"shingle",
					"min_shingle_size":3,
					"max_shingle_size":6,
					"token_separator":""
				}
			}
		}
    },
	"mappings":{
		"dynamic": "strict",
		"properties":{
            "content":{
				"type":"text",
				"analyzer":"englando"
			},
			"location":{
				"type":"geo_point"
			},
			"retweet_count":{
				"type":"integer"
			},
			"favorite_count":{
				"type":"integer"
			},
			"neg":{
				"type": "float"
			},
			"neu":{
				"type": "float"
			},
			"pos":{
				"type": "float"
			},
			"compound":{
				"type": "float"
			},
			"happened_at":{
				"type":"date"
			},
			"author":{
				"properties":{
					"id":{
						"type":"keyword"
					},
					"screen_name":{
						"type":"text",
						"analyzer":"custom_ngram"
					},
					"name":{
						"type":"text",
						"analyzer":"custom_ngram",
						"fields":{
							"shingle":{
								"type":"text",
								"analyzer":"custom_shingles"
							}
						}
					},
					"description":{
						"type":"text",
						"analyzer":"englando",
						"fields":{
							"shingle":{
								"type":"text",
								"analyzer":"custom_shingles"
							}
						}
					},
					"followers_count":{
						"type":"integer"
					},
					"friends_count":{
						"type":"integer"
					},
					"statuses_count":{
						"type":"integer"
					}
				}
			},
			"country":{
				"properties":{
					"code":{
						"type":"keyword"
					},
					"name":{
						"type":"text"
					}
				}
			},
			"parent_id":{
				"type":"keyword"
			},
			"hashtags":{
                "type": "keyword",
                "normalizer":"keyword_lowercase"
			},
			"mentions":{
				"type":"nested",
				"properties":{
					"id":{
						"type":"keyword"
					},
					"screen_name":{
						"type":"text",
						"analyzer":"custom_ngram"
					},
					"name":{
						"type":"text",
						"analyzer":"custom_ngram",
						"fields":{
							"shingle":{
								"type":"text",
								"analyzer":"custom_shingles"
							}
						}
					},
					"description":{
						"type":"text",
						"analyzer":"englando",
						"fields":{
							"shingle":{
								"type":"text",
								"analyzer":"custom_shingles"
							}
						}
					},
					"followers_count":{
						"type":"integer"
					},
					"friends_count":{
						"type":"integer"
					},
					"statuses_count":{
						"type":"integer"
					}
				}
			}
		}
	}	
}